#!/bin/bash

# Function to produce a beep
beep() {
    echo -ne "\a"
}

# ASCII art for Desktop
desktop_art() {
cat << "EOF"
███████████████████████████████████████████████
█▒▒▒██▒▒██▒▒▒▒██▒▒████▒▒███████████████████████
██▒██▒██▒███▒██▒██▒██▒█████████████████████████
██▒██▒██▒██▒███▒██▒███▒████████████████████████
██▒███▒▒██▒▒▒▒██▒▒██▒▒█████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
████████████████▒███████▒██████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
█████████████▒▒██████████▒▒████████████████████
██████████████▒▒▒▒██████▒▒█████████████████████
█████████████████▒▒▒▒▒▒▒▒██████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
▒╬▒╬░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
╬▒╬▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
EOF
}

# ASCII art for Start Menu
startmenu_art() {
cat << "EOF"
███████████████████████████████████████████████
█▒▒▒██▒▒██▒▒▒▒██▒▒████▒▒███████████████████████
██▒██▒██▒███▒██▒██▒██▒█████████████████████████
██▒██▒██▒██▒███▒██▒███▒████████████████████████
██▒███▒▒██▒▒▒▒██▒▒██▒▒█████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
████████████████▒███████▒██████████████████████
███████████████████████████████████████████████
███████████████████████████████████████████████
▒▒│Start▒Menu▒▒██████████▒▒████████████████████
▒▒│────────────▒▒▒██████▒▒█████████████████████
▒▒│▒▒▒▒▒▒▒▒▒▒▒▒██▒▒▒▒▒▒▒▒██████████████████████
▒▒│▒▒▒▒▒▒▒▒▒▒▒▒████████████████████████████████
▒▒│▒▒▒▒▒▒▒▒▒▒▒▒████████████████████████████████
▒▒│▒▒▒▒▒▒▒▒▒▒▒▒████████████████████████████████
▒▒│▒▒▒▒▒▒▒▒▒▒▒▒████████████████████████████████
▒▒│▒▒▒▒▒▒▒▒▒▒▒▒████████████████████████████████
▒▒│▒▒▒▒▒▒▒▒▒▒▒▒████████████████████████████████
▒▒│▒▒▒▒▒▒▒▒▒▒▒▒████████████████████████████████
╬▒╬▒░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
▒╬▒╬░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
EOF
}

# Installer function
installer() {
    clear
    echo "Welcome to the Installer! Press any key to continue..."
    beep
    read -n1
    beep
    clear
    echo -n "Username for the new user: "
    read user
    beep
    clear
    echo -n "Password for $user: "
    read -s pass
    echo
    beep
    clear
    echo "Loading..."
    sleep 3
    clear
    echo "Installation Successful! Press any key to continue..."
    beep
    read -n1
    login
}

# Login function
login() {
    clear
    echo -n "Username: "
    read userlogin
    echo -n "Password: "
    read -s passlogin
    echo
    if [[ "$userlogin" == "$user" && "$passlogin" == "$pass" ]]; then
        echo "Login Successful! Press any key to continue..."
        beep
        read -n1
        desktop
    else
        echo "Login Failed! Try again next time."
        beep; sleep 0.2; beep; sleep 0.2; beep
        sleep 3
        installer
    fi
}

# Desktop function
desktop() {
    clear
    desktop_art
    echo "Options: 1. Start Menu."
    echo -n "Input: "
    read choice
    if [[ "$choice" == "1" || "$choice" == "Start" ]]; then
        start_menu
    else
        desktop
    fi
}

# Start menu function
start_menu() {
    clear
    startmenu_art
    echo "Options: 1. Back."
    echo -n "Input: "
    read choice
    if [[ "$choice" == "1" || "$choice" == "Back" ]]; then
        desktop
    else
        start_menu
    fi
}

# Main
clear
echo "Welcome too TozOS! Waiting for Installer to load..."
sleep 3
clear
echo "Installer Loaded Successfully! Press any key to continue..."
beep
read -n1
installer
